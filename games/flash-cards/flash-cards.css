/* ===== Theme & tokens ===== */
:root{
    --bg1:#1f213b;
    --bg2:#1f213b;
    /* Pills */
    --pill-bg:#ffffff;
    --pill-border:rgba(0,0,0,0.12);
    --pill-fg:#1f2937;
    --pill-font-size:14px;
  
    /* Card */
    --card-shadow:0 12px 30px rgba(0,0,0,0.18);
    --radius-xl:18px;
    --radius-pill:12px;
  
    /* 固定卡片尺寸（桌機）；想更小/更大改這裡 */
    --card-w: 384px;
    --card-h: 512px;
  }
  
  html,body{ height:100% }
  body{
    margin:0;
    background: linear-gradient(180deg, var(--bg1), var(--bg2));
    color:#0f1324;
    -webkit-font-smoothing: antialiased;
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  }
  
  .page{
    min-height:100%;
    display:flex; flex-direction:column; align-items:center;
  }
  
  /* ===== Header ===== */
  .page-header{
    width: min(1100px, 92vw);
    margin:28px auto 10px;
    text-align:center;
  }
  .page-header h1{
    margin:0; color:#fff;
    font-size: clamp(32px, 5vw, 52px);
    font-weight:800;
    text-shadow:0 2px 6px rgba(0,0,0,0.40);
  }
  
  /* ===== Controls ===== */
  .controls{
    width: min(1100px, 92vw);
    margin:8px auto 8px;
    display:flex; flex-direction:column; gap:12px;
  }
  /* 依序：filters → modes → statusbar（把 Timer+Start 放到模式下方） */
  .controls .filters{ order: 1; }
  .modes{              order: 2; }
  .statusbar{          order: 3; }
  
  .controls .filters{
    display:flex; flex-wrap:wrap; gap:10px; align-items:center;
  }
  /* 手機版：把上方膠囊整排置中 */
@media (max-width: 640px){
  /* 讓容器和內容都以中央對齊 */
  .controls{ align-items: center; }
  .controls .filters{ justify-content: center; }

  /* 每顆膠囊維持自身寬度，不被拉滿 */
  .controls .filters > *{ flex: 0 0 auto; }

  /* 模式單選那排也一起置中（可選） */
  .modes{ justify-content: center; }

  /* 計時＋Start 那排也置中（可選） */
  .statusbar{ justify-content: center; }
}

  /* unified pills */
  .controls select,
  .controls .chk,
  .controls .size,
  .controls .size select,
  .modes .radio{
    font-size: var(--pill-font-size);
    line-height: 1.1;
    font-weight: 700;
    color: var(--pill-fg);
  }
  
  .controls select{
    appearance:none;
    padding:10px 38px 10px 14px;
    border-radius: var(--radius-pill);
    border:1px solid var(--pill-border);
    background: var(--pill-bg);
    outline:none; position:relative;
  }
  .controls select:focus{ box-shadow:0 0 0 3px rgba(255,255,255,0.15) }
  
  .controls .chk{
    display:flex; align-items:center; gap:8px;
    background: var(--pill-bg);
    border:1px solid var(--pill-border);
    border-radius: var(--radius-pill);
    padding:8px 12px;
  }
  
  .controls .size{
    display:flex; align-items:center; gap:10px;
    background: var(--pill-bg);
    border:1px solid var(--pill-border);
    border-radius: 20px;
    padding:8px 12px;
  }
  .controls .size select{ background:transparent; border:none; padding:0 6px }
  
  /* 模式列置中 */
  .modes{ display:flex; flex-wrap:wrap; gap:12px; justify-content:center; }
  .modes .radio{
    display:flex; align-items:center; gap:8px;
    padding:8px 14px;
    background: var(--pill-bg);
    border:1px solid var(--pill-border);
    border-radius: var(--radius-pill);
  }
  
  /* Start button */
  .btn-primary{
    background: linear-gradient(180deg, #ffb6c9, #ff88a8);
    color:#36121c; border:none;
    padding:10px 18px; border-radius: var(--radius-pill);
    font-weight:800; box-shadow:0 6px 18px rgba(255,136,168,0.45);
    cursor:pointer;
  }
  .btn-primary:hover{ filter:brightness(1.02); transform:translateY(-1px) }
  .btn-primary:active{ transform:translateY(0) }
  .btn-primary .icon{ margin-right:6px }
  
  /* ===== Timer + Start center ===== */
  .statusbar{
    display:flex; justify-content:center; align-items:center; gap:14px;
    margin:6px 0 2px;
  }
  .stat{
    display:grid; grid-template-rows:auto auto; place-items:center;
    min-width:120px;
    background: rgba(255,255,255,0.16);
    border:1px solid rgba(255,255,255,0.25);
    border-radius:16px;
    padding:10px 12px; color:#fff;
  }
  .stat-number{ font-size:22px; font-weight:800; line-height:1.1 }
  .stat-label{ font-size:12px; opacity:.9; margin-top:2px }
  
  /* ===== Stage / Card ===== */
  .stage{
    width: min(1100px, 92vw);
    margin: 12px auto 24px;
  
    /* 直向堆疊：卡片在上、footer 在下；同時雙向置中 */
    display:flex; flex-direction:column;
    align-items:center; justify-content:center;
  
    min-height: 60vh; /* 讓卡片視覺位於頁面中段 */
  }
  
  /* 固定尺寸（桌機），手機用相對尺寸維持 3:4 比例 */
  .card{
    position: relative;
    width: var(--card-w);
    height: var(--card-h);
    border-radius: var(--radius-xl);
    box-shadow: var(--card-shadow);
    overflow: hidden;
    background: transparent;    /* 顏色交給 front/back */
    perspective: 1000px;        /* 翻牌 */
  }
  @media (max-width: 640px){
    .card{
      width: min(92vw, 340px);
      height: calc(min(92vw, 340px) * 4 / 3);
    }
  }
  
  /* 翻牌容器 */
  .card-inner{
    position: relative;
    width: 100%; height: 100%;
    transform-style: preserve-3d;
    transition: transform .6s;
    border-radius: inherit;
  }
  .card.flipped .card-inner{ transform: rotateY(180deg); }
  
  /* 兩個面 */
  .face{
    position:absolute; inset:0;
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    padding: 24px;
    border-radius: inherit;
    -webkit-backface-visibility: hidden; backface-visibility: hidden;
    text-align: center;
  }
  
  /* 你指定的漸層底色 */
  .front{ background: linear-gradient(135deg,#fbfbd9,#dfd89a); }
  .back { background: linear-gradient(135deg,#4ecdc4,#44a08d); transform: rotateY(180deg); }
  
  /* 文字樣式 */
  .hanzi{
    font-size: clamp(28px, 6vw, 48px);
    font-weight:800; letter-spacing:.02em; color:#0f1324;
  }
  .pinyin{
    margin-top:4px; font-size: clamp(14px, 3.2vw, 18px);
    color:#445; opacity:.85;
  }
  .meaning{
    margin-top:6px; font-size: clamp(18px, 4.2vw, 28px);
    font-weight:700; color:#0f1324;
  }
  
  /* Footer actions */
  .footer-bar{
    display:flex; align-items:center; justify-content:space-between;
    gap:10px; margin-top:12px; width:min(1100px,92vw);
  }
  .progress{ color:#fff; font-weight:800; letter-spacing:.02em; opacity:.95 }
  .actions{ display:flex; gap:8px }
  .btn-ghost{
    background: rgba(255,255,255,0.18);
    border:1px solid rgba(255,255,255,0.28);
    color:#fff; padding:8px 12px;
    border-radius: var(--radius-pill);
    font-weight:700; cursor:pointer;
  }
  /* 覆蓋拼音樣式 —— 貼在 flash-cards.css 最底部 */
.pinyin{
    font-size: 30px;        /* 大小：改成你要的 px 或 clamp */
    font-weight: 700;       /* 粗細：400=正常, 600=半粗, 700=粗 */
    color: #1c1c1c;         /* 顏色 */
    opacity: 1;             /* 需要就調整，1=不透明 */
  }
  .btn-ghost:hover{ filter:brightness(1.05) }
  
  